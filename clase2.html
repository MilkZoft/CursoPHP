<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8">

		<title>Aprende PHP desde cero por Carlos Santana</title>

		<meta name="description" content="Aprende PHP desde cero">
		<meta name="author" content="Carlos Santana">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<script language="Javascript" type="text/javascript" src="http://www.littlewebthings.com/projects/countdown/demo/js/jquery.lwtCountdown-1.0.js"></script>

		<script language="Javascript" type="text/javascript" src="http://www.littlewebthings.com/projects/countdown/demo/js/misc.js"></script>
		
		<link rel="stylesheet" href="../reveal/css/reveal.min.css">
		<link rel="stylesheet" href="../reveal/css/theme/simple.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="../reveal/lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write('<link rel="stylesheet" href="../reveal/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="../reveal/lib/js/html5shiv.js"></script>
		<![endif]-->

		<style>
			.center {
				text-align: center;
			}
		</style>
	</head>

	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<!-- Slide 1: Presentación -->
				<section class="center">
					<p>
						<img style="border: none; margin: 0 auto; display: block; width: auto;" height="200" src="../reveal/images/logo.png" alt="Codejobs">
					</p>
					
					<h1>Aprende PHP desde cero</h1>
					
					<p>
						<small>Instructor: <a href="http://twitter.com/czantany">Carlos Santana</a> / <a href="http://twitter.com/czantany">@czantany</a></small>
					</p>					
				</section>

				<!-- Slide 2: Instalación -->
				<section>
					<section>
						<h2>Instalación LAMP</h2>

						<ol>
							<li>Instalación en Windows &amp; Mac</li>
							<li>Instalación en Linux</li>
						</ol>

						<img style="border: none; float: right; margin-top: 300px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
					
					<section>
						<h2>Instalación en Windows &amp; Mac</h2>

						<p>
							Para Windows &amp; Mac lo más sencillo es instalar un paquete que contenga todas las herramientas que necesitamos, algunas de ellas son: <br /><br />
							-EasyPHP (Windows) <br />
							-MAMP (Mac) <br />
							-WAMP (Windows) <br />
							-XAMP (Mac &amp; Windows)
						</p>
	
						<img style="border: none; float: right;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Instalación en Linux</h2>
						
						<p>
							<strong>sudo apt-get install</strong> php5 libapache2-mod-php5 mysql-server mysql-client apache2 php5-mysqli phpmyadmin<br /> <br />
							sudo vi /etc/apache2/apache.conf <br />
							<strong>Agregar la siguiente línea:</strong>
							<em>Include /etc/phpmyadmin/apache.conf</em> <br /> <br />
							sudo vi /etc/phpmyadmin/apache.conf <br />
							<strong>Agregamos "AllowOverride All"</strong> dentro de &lt;Directory /usr/share/phpmyadmin&gt; <br />
							service apache2 restart <br />
						</p>

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<!-- Slide 2: Variables, arrays, cadenas y estructuras de control -->
				<section>
					<section>
						<h2>Variables, arrays, cadenas y estructuras de control</h2>
						
						<ol>
							<li>Tipos de datos</li>
							<li>Manejo de variables</li>
							<li>Arrays escalares y asociativos</li>
							<li>Manejo de cadenas</li>
							<li>Estructuras de Control</li>
							<li>Operadores</li>
						</ol>

						<img style="border: none; float: right; margin-top: 100px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Tipos de datos</h2>
						
						<p>
							PHP soporta ocho tipos primitivos. 
						</p>

						<ul>
							<li>boolean</li>
							<li>integer</li>
							<li>float (número de punto flotante, también conocido como double)</li>
							<li>string</li>
							<li>array (compuesto)</li>
							<li>object (compuesto)</li>
							<li>resource (especial)</li>
							<li>NULL (especial)</li>
						</ul>

						<img style="border: none; float: right;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de variables</h2>
						
						<h4>isset</h4>

						<p>							
							Determina si una variable está definida y no es NULL.
						</p>

<pre><code style="height: 300px;" data-trim contenteditable>
$var = '';

// Esto evaluará a TRUE así que el texto se imprimirá.
if (isset($var)) {
    echo "Esta variable está definida, así que se imprimirá";
}

// En los siguientes ejemplos usaremos var_dump para imprimir
// el valor devuelto por isset().

$a = "prueba";
$b = "otraprueba";

var_dump(isset($a));      // TRUE
var_dump(isset($a, $b)); // TRUE

unset ($a);

var_dump(isset($a));     // FALSE
var_dump(isset($a, $b)); // FALSE

$foo = null;
var_dump(isset($foo));   // FALSE
</code></pre>
					
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de variables</h2>
						
						<h4>empty</h4>

						<p>						
							Determina si una variable está vacía.
						</p>

<pre><code style="height: 300px;" data-trim contenteditable>
$var = 0;

// Se evalúa a true ya que $var está vacia
if (empty($var)) {
    echo '$var es o bien 0, vacía, o no se encuentra definida en absoluto';
}

// Se evalúa como true ya que $var está definida
if (isset($var)) {
    echo '$var está definida a pesar que está vacía';
}

$str = '            ';
var_dump(empty($str)); // boolean false

//Recuerda siempre quitar los espacios con trim

$str = '        ';
$str = trim($str);
var_dump(empty($str)); // boolean true
</code></pre>
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Variables variables</h2>
						
						<p>
							A veces es conveniente tener nombres de variables variables. Dicho de otro modo, son nombres de variables que se pueden definir y usar dinámicamente. Una variable normal se establece con una sentencia como:
						</p>

<pre><code data-trim contenteditable>
$a = 'hola';
</code></pre>

						<p>
							Una variable variable toma el valor de una variable y lo trata como el nombre de una variable. En el ejemplo anterior, hola, se puede usar como el nombre de una variable utilizando dos signos de dólar. Es decir:
						</p>

<pre style="width: 300px;"><code style="width: 300px;" data-trim contenteditable>
$$a = 'mundo';

echo "$a $hola";
</code></pre>
						<img style="border: none; float: right; margin-top: -70px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Arrays escalares y asociativos</h2>

						<p>
							En PHP, los arrays pueden estar compuestos de elementos de diferente naturaleza y su primer índice o posición es la 0. Además, existen unos arrays especiales en PHP denominados asociativos en los que el índice es un valor de tipo string, de modo que cada posición está definida por el par (clave, valor), pudiendo acceder al contenido (valor) a través de la clave.
						</p>

						<p>
							<strong>Ejemplo de array escalar:</strong>
						</p>

<pre style="float: left; width: 600px;"><code style="width: 600px;" data-trim contenteditable>
$array[0] = "Mi Nombre";
$array[1] = "es Carlos y tengo";
$array[] = "25 años"; //Lo insertara en la posición 2.

for ($i = 0; $i <= count($array) – 1; $i++) { 
	echo $array[$i] ." ";
} 
</code></pre>
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
						<div style="clear: both;"></div>
					</section>

					<section>
						<p>
							<strong>Ejemplo de array asociativo:</strong>
						</p>

<pre><code data-trim contenteditable>
$array["nombre"] = "Mi Nombre";
$array["es"] = "es Carlos y tengo";
$array["tengo"] = "25 años"; 
	
echo $array["nombre"] ." ". $array["es"] ." ". $array["tengo"];
</code></pre>
						<img style="border: none; float: right; margin-top: 300px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de cadenas</h2>

						<h4>echo vs print</h4>

						<p>													
							Aunque echo y print no son funciones sino construcciones del lenguaje (tales como if, while o list()), la principal diferencia es que print puede comportarse como una función, puesto que devuelve el valor 1, por lo que es posible que una instrucción print se encuentre participando en expresiones complejas, donde echo generaría un error. Ello nos lleva a que print es algo más lento que echo, puesto que pierde un tiempo en ocuparse de devolver el valor.							
						</p>

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de cadenas</h2>

						<h4>Concatenación</h4>

						<p>													
							Existen dos operadores para datos tipo string. El primero es el operador de concatenación ('.'), el cual retorna el resultado de concatenar sus argumentos derecho e izquierdo. El segundo es el operador de asignación sobre concatenación ('.='), el cual añade el argumento del lado derecho al argumento en el lado izquierdo.

<pre><code data-trim contenteditable>
$a = "Hello ";
$b = $a . "World!"; // ahora $b contiene "Hello World!"

$a  = "Hello ";
$a .= "World!";     // ahora $a contiene "Hello World!"
</code></pre>							
						</p>

						<img style="border: none; float: right; margin-top: -10px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Estructuras de Control</h2>

						<h4>if, else, elseif...</h4>

<pre><code data-trim contenteditable>
$a = 1;
$b = 2;
$c = 3;

//if... else
if ($a > $b) {
  	echo "a es mayor que b";  
} else {
	echo "b es mayor que a";
}

//if... elseif
if ($a > $b and $a > $c) {
	echo "a es mayor que b y c";
} elseif ($b > $a and $b > $c) {
	echo "b es mayor que a y c";
} else {
	echo "c es mayor que a y b";
}
</code></pre>
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Estructuras de Control</h2>

						<h4>if compacto (ternario)</h4>

<pre><code data-trim contenteditable>
$a = 5;
$b = 2;
$c = 3;

$mayor = ($a > $b) ? $a : $b;

echo "El número mayor es: ". ($mayor > $c) ? $mayor : $c;
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Estructuras de Control</h2>

						<h4>for vs foreach</h4>

<pre><code data-trim contenteditable>
echo "La suma de los 10 primeros números enteros es: ";

$suma = 0;

for ($i = 1; $i <= 10; $i++) {
	$suma += $i;
	
	echo $i . ($i == 10) ? "=" : "+";
}

echo $suma;
</code></pre>

<pre><code data-trim contenteditable>
$frutas = array("Manzana", "Pera", "Naranja");

foreach ($frutas as $fruta) {
	echo "Fruta: $fruta &lt;br /&gt;\n";
}
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Estructuras de Control</h2>

						<h4>while vs do... while</h4>

<pre><code data-trim contenteditable>
//while
$i = 1;

while ($i <= 10) {
	echo $i++; //post-incremento, primero imprime el valor de $i, luego incrementa 1.
}

//do... while
$i = 0;

do {
	echo $i;
} while ($i > 0); //Entra siempre la primera vez.
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Estructuras de Control</h2>

						<h4>switch</h4>

<pre><code data-trim contenteditable>
echo "Hoy es: ";

$dia = date("D");

switch ($dia) {
	case "Mon":
		echo "Lunes";
		break;
	case "Tue":
		echo "Martes";
		break;
	case "Wed":
		echo "Miércoles";
		break;
	case "Thu":
		echo "Jueves";
		break;
	case "Fri":
		echo "Viernes";
		break;
	case "Sat":
		echo "Sábado";
		break;
	default:
		echo "Domingo";
}
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>Aritmétios</h4>
<pre><code data-trim contenteditable>
+   $a + $b   //Suma
-   $a - $b   //Resta
*   $a * $b   //Multiplicación
/   $a / $b   //División
%   $a % $b   //Resto de la división entera
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>Lógicos</h4>

<pre><code data-trim contenteditable>
&&    $a && $b    //$a y $b son ambos true
and   $a and $b   //$a y $b son ambos true
||    $a || $b    //$a o $b son true
or    $a or $b    //$a o $b son true
!     !$a   	  //$a es false, niega el valor lógico de la variable
xor   $a xor $b   //$a es true o $b es true, pero no lo son los dos a la vez.
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>De Asignación</h4>
						
<pre><code data-trim contenteditable>
 =    $a  = $b    //$a toma el valor de $b
+=    $a += $b    //Equivale a: $a = $a + $b
-=    $a -= $b    //Equivale a: $a = $a - $b
*=    $a *= $b    //Equivale a: $a = $a * $b
/=    $a /= $b    //Equivale a: $a = $a / $b
%=    $a %= $b    //Equivale a: $a = $a % $b
.=    $a .= $b    //Equivale a: $a = $a . $b
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>De Comparación</h4>
						
<pre><code data-trim contenteditable>
==    $a == $b    //Los operadores son iguales
!=    $a != $b    //Los operadores son distintos
===   $a === $b   //Los operadores son idénticos: iguales y del mismo tipo.
!==   $a !== $b   //Los operadores no son iguales o del mismo tipo.
<     $a < $b     //El operador de la izquierda es menor que el de la derecha.
>     $a > $b     //El operador de la izquierda es mayor que el de la derecha.
<=    $a <= $b    //El operador de la izquierda es menor o igual que el de la derecha.
>=    $a >= $b    //El operador de la izquierda es mayor o igual que el de la derecha.
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>Incremento y decremento</h4>

<pre><code data-trim contenteditable>
++    ++$a   //Preincremento: Incrementa $a en uno y después devuelve $a. 
	  $a++   //Postincremento: Devuelve $a y después incrementa en uno $a.

--    --$a   //Predecremento: Decrementa $a en uno y después devuelve $a.
      $a--   //Postdecremento: Devuelve $a y después decrementa en uno $a.
</code></pre>				
							
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Operadores</h2>

						<h4>Omisión de errores</h4>
<pre><code data-trim contenteditable>
@mail($email, $subject, $message);
</code></pre>				
						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Uso de formularios</h2>
						
						<ol>
							<li>Estructura de un formulario</li>
							<li>$_GET</li>
							<li>$_POST</li>
							<li>$_REQUEST</li>
							<li>Sanitización de variables</li>
						</ol>

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Uso de formularios</h2>

						<h4>Envío de datos</h4>

<pre><code data-trim contenteditable>
<form id="agenda" action="datos.php" method="post">
	<p>
		Nombre: <input name="nombre" type="text" />
	</p>

	<p>
		Email: <input name="email" type="text" />
	</p>

	<p>
		<input name="enviar" type="submit" value="Enviar datos" />
	</p>
</form>
</code></pre>		

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Uso de formularios</h2>

						<h4>$_GET</h4>
						
<pre><code data-trim contenteditable>
$nombre = $_GET["nombre"];
$email = $_GET["email"];

echo "Nombre: $nombre <br />
Email: $email";
</code></pre>						

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Uso de formularios</h2>

						<h4>$_POST</h4>
						
<pre><code data-trim contenteditable>
$nombre = $_POST["nombre"];
$email = $_POST["email"];

echo "Nombre: $nombre <br />
Email: $email";
</code></pre>	

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Uso de formularios</h2>
	
						<h4>$_REQUEST</h4>
						
<pre><code data-trim contenteditable>
$nombre = $_REQUEST["nombre"];
$email = $_REQUEST["email"];

echo "Nombre: $nombre <br />
Email: $email";
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Uso de formularios</h2>

						<h4>Sanitización de variables</h4>
						
<pre><code data-trim contenteditable>
function sanatize($string) {
	return strip_tags(addslashes($string));
}

$nombre = sanatize($_GET["nombre"]);
$email = sanatize($_GET["email"]);

$nombre = sanatize($_POST["nombre"]);
$email = sanatize($_POST["email"]);

$nombre = sanatize($_REQUEST["nombre"]);
$email = sanatize($_REQUEST["email"]);

echo "Nombre: $nombre <br />
Email: $email";
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Funciones</h2>
						
						<ol>
							<li>Parámetros obligatorios y opcionales</li>
							<li>Regresar valores</li>
							<li>Funciones anónimas</li>
						</ol>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Funciones</h2>

						<h4>Parámetros obligatorios y opcionales</h4>
						
<pre><code data-trim contenteditable>
//Parámetors obligatorios
function imprimir($texto) {
	echo $texto;
}

imprimir("Hola mundo"); //Si no se pasa ningún valor marcará un warning.

//Parámetros opcionales
function imprimir($texto = "Adiós mundo cruel") {
	echo $texto;
}

imprimir(); //Imprimirá "Adiós mundo cruel", y no marcará error.
imprimir("Ola ke ase, aprendiendo PHP o que ase."); //Imprimirá "Ola ke ase, aprendiendo PHP o que ase."
</code></pre>				

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Funciones</h2>

						<h4>Regresar valores</h4>
						
						<p>
							Una de las cualidades de una función es que puede regresar un valor.
						</p>

<pre><code data-trim contenteditable>
function sumar($a, $b) {
	return $a + $b;
}

echo sumar(2, 2); //Imprimirá: 4.
</code></pre>					

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Funciones</h2>

						<h4>Funciones anónimas</h4>
<pre><code data-trim contenteditable>						
$saludo = function($nombre) {
    echo "Hola $nombre <br />";
}; //OJO: Punto y coma al final de la llave, si no marca error.

$saludo("Carlos");
$saludo('Mundo');
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Sesiones y Cookies</h2>
						
						<ol>
							<li>Crear y eliminar una sesión</li>
							<li>Crear y eliminar una cookie</li>			
						</ol>

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Sesiones y Cookies</h2>

						<h4>Crear y eliminar una sesión</h4>
						
<pre><code data-trim contenteditable>						
//Inicializando las sesiones
session_start();

if (!isset($_SESSION["visitas"])) {
	$_SESSION["visitas"] = 1;
} else {
	$_SESSION["visitas"]++;
}

echo "Esta página ha sido visitada ". $_SESSION["visitas"] ." veces";

//Eliminar sessiones, 2 formas:
unset($_SESSION["visitas"]);
session_destroy();
</code></pre>			

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Sesiones y Cookies</h2>

						<h4>Crear y eliminar una cookie</h4>
						
<pre><code data-trim contenteditable>						
//Creando una cookie
if (!isset($_COOKIE["visitas"])) {
	setcookie("visitas", 1, 3600); //Duración: 1 hora
} else {
	setcookie("visitas", $_COOKIE["visitas"] + 1, 3600); //Alterando la cookie.
}

echo "Esta página ha sido visitada ". $_COOKIE["visitas"] ." veces";

//Eliminar cookie:
setcookie("visitas"); //No se le específica valor ni tiempo de vida.
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Manejo de archivos</h2>
						
						<ol>
							<li>include, include_once vs require y require_once</li>
							<li>Lectura y escritura de archivos</li>
							<li>file_get_contents vs file_put_contents</li>
							<li>$_FILES</li>
						</ol>

						<img style="border: none; float: right; margin-top: -20px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de archivos</h2>

						<h4>include, include_once vs require y require_once</h4>
						
<pre><code data-trim contenteditable>						
//archivo: variables.php
$color = "verde";
$fruta = "manzana";
</code></pre>

<pre><code data-trim contenteditable>
//archivo: prueba.php
echo "Una $fruta $color"; //Imprime: Una
include "variables.php"; //Si no existe muestra un Warning
#require "variables.php"; //Si no existe manda un Fatal Error, detiene la ejecución del script
#include_once "variables.php"; //Sólo incluye el archivo 1 vez, si no existe Warning.
#require_once "variables.php"; //Sólo incluye el archivo 1 vez, si no existe Fatal error.
echo "Una $fruta $color"; //Imprime: Una manzana verde
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de archivos</h2>
					
						<h4>Lectura y escritura de archivos</h4>
						
<pre><code data-trim contenteditable>						
//Lectura de un archivo.
$handle = fopen("files/archivo.txt", "r");

if ($handle) {
    while (($buffer = fgets($handle, 4096)) !== false) {
        echo $buffer;
    }

    if (!feof($handle)) {
        echo "Error: unexpected fgets() fail\n";
    }

    fclose($handle);
}

//Si se escribe dos veces sobre el puntero al archivo la información 
//será añadida al final del contenido del archivo:

$fp = fopen('data.txt', 'w');

fwrite($fp, '1');
fwrite($fp, '23');

fclose($fp);

//¡El contenido de 'data.txt' ahora es 123 y no 23!
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de archivos</h2>
	
						<h4>file_get_contents vs file_put_contents</h4> 
						
<pre><code data-trim contenteditable>
//file_get_contents - Obtiene un archivo o una página Web específicada				
$codejobs = file_get_contents("http://www.codejobs.biz");
echo $codejobs;

$archivo = file_get_contents("miarchivo.txt");
echo $archivo;

//file_put_contents - Escribe una cadena a un fichero

// Abre el fichero para obtener el contenido existente
$contenido = file_get_contents("emails.txt");

// Añade un nuevo email al fichero
$contenido .= "carlos@milkzoft.com\n";

// Escribe el contenido al fichero
file_put_contents("emails.txt", $contenido);
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Manejo de archivos</h2>

						<h4>$_FILES</h4> 
					
<pre><code data-trim contenteditable>	
//formulario.php					
<form action="upload.php" method="post" enctype="multipart/form-data">
  	<input name="archivo" type="file" />
  	<input name="subir" type="submit" value="Upload File" />   
</form>
</code></pre>

<pre><code data-trim contenteditable>
//upload.php, asegúrate de colocar permisos 777 a la carpeta "files".
if (isset($_POST["subir"])) {
    // Obtenemos los datos del archivo
    $size  	  = $_FILES["archivo"]["size"];
    $type 	  = $_FILES["archivo"]["type"];
    $filename = $_FILES["archivo"]["name"];
   
    if ($filename != "") {
        // Guardamos el archivo a la carpeta files
        $destino = "files/$filename";
        
        if (move_uploaded_file($_FILES["archivo"]["tmp_name"], $destino)) {
            echo "Archivo subido: $filename";
        } else {
            echo "Error al subir el archivo";
        }
    } else {
        echo "Error al subir archivo";
    }
}
</code></pre>						

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Bases de Datos (MySQL)</h2>
						
						<ol>
							<li>Conexión a una base de datos</li>
							<li>Búsquedas y consultas</li>
							<li>CRUD (Create, Read, Update and Delete)</li>
							<li>Prevención de inyecciones SQL</li>
						</ol>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Bases de Datos (MySQL)</h2>


						<h4>Conexión a una base de datos</h4>
						
<pre><code data-trim contenteditable>						
$db = mysqli_connect("localhost", "root", "", "agenda") or die("Error " . mysqli_error($connection));
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Bases de Datos (MySQL)</h2>
	
						<h4>Búsquedas y consultas</h4>
						
<pre><code data-trim contenteditable>						
$query = "SELECT Nombre FROM contactos";

$result = $db->query($query);

while ($data = mysqli_fecth_array($result)) {
  	echo $data["Nombre"] . "<br />";
} 
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Bases de Datos (MySQL)</h2>

						<h4>CRUD (Create, Read, Update and Delete)</h4>
						
<pre><code data-trim contenteditable>						
if (isset($_POST["save"])) {
	$nombre = $_POST["nombre"];

	$query = "INSERT INTO contactos (Nombre) VALUES ('$nombre')";
	$db->query($query);

	echo "Registro insertado exitosamente";
} elseif (isset($_POST["update"])) {
	$id = $_POST["id"];
	$nombre = $_POST["nombre"];

	$query = "UPDATE contactos SET Nombre = '$nombre' WHERE ID = '$id'";
	$db->query($query);

	echo "Registro actualizado exitosamente";
} elseif (isset($_GET["id"]) and $_GET["action"] == "editar") {
	$id = $_GET["id"];
	$query = "SELECT Nombre FROM contactos WHERE ID = '$id'";
	$result = $db->query($query);

	if ($result->num_rows > 0) {
		$data = mysqli_fecth_array($result);

		echo '<form action="crud.php" method="post">
			Nombre: <input name="nombre" type="text" value="'. $data["Nombre"] .'" />
			<input name="id" type="hidden" value="'. $id .'" /> 
			<input name="update" type="submit" value="Actualizar" />
		</form>';			
	} else {
		echo "No existe ese id en la db";
	}
} elseif (isset($_GET["id"]) and $_GET["action"] == "eliminar"]) {
	$id = $_GET["id"];

	$query = "DELETE FROM contactos WHERE ID = '$id'";
	$db->query($query);

	echo "Registro eliminado exitosamente";
} elseif (isset($_GET["id"]) and $_GET["action"] == "ver") {
	$id = $_GET["id"];

	$query = "SELECT Nombre FROM contactos WHERE ID = '$id'";
	$result = $db->query($query);

	if ($result->num_rows > 0) {
		$data = mysqli_fecth_array($result);

		echo $data["Nombre"];			
	} else {
		echo "No existe ese id en la db";
	}

} else {
	$query = "SELECT Nombre FROM contactos";

	$result = $db->query($query);

	while ($data = mysqli_fecth_array($result)) {
	  	echo '<a href="crud.php?action=ver&amp;id='. $data["ID"] .'">'. $data["Nombre"] .'</a> - 

	  	<a href="crud.php?action=editar&amp;id='. $data["ID"] .'">E</a>
	  	<a href="crud.php?action=eliminar&amp;id='. $data["ID"] .'">X</a>
	  	<br />";
	} 

	echo '<br>';

	echo '<form action="crud.php" method="post">
		Nombre: <input name="nombre" type="text" /> 
		<input name="save" type="submit" value="Guardar" />
	</form>';
}

</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Bases de Datos (MySQL)</h2>

						<h4>Prevención de inyecciones SQL</h4>
						
<pre><code data-trim contenteditable>						
//Nuestra consulta:
$u = $_POST["usuario"]; //Admin
$p = $_POST["password"]; //1234
$db->query("SELECT * FROM Usuarios WHERE Usuario='$u' AND Password='$p'");
//SELECT * FROM Usuarios WHERE Usuario='Admin' AND Password='1234'

//¿Qué pasaría si el usuario escribe ' OR '1'='1 como usuario y lo mismo de contraseña?
$u = $_POST["usuario"]; //' OR '1'='1
$p = $_POST["password"]; //' OR '1'='1
$db->query("SELECT * FROM Usuarios WHERE Usuario='$u' AND Password='$p'");

"SELECT * FROM Usuarios WHERE Usuario = '' OR '1'='1' AND Password = '' or '1'='1'"
//Accede al sistema.
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Bases de Datos (MySQL)</h2>

						<h4>Prevención de inyecciones SQL</h4>
						
						<p><img src="http://www.php.net/manual/es/images/fa7c5b5f326e3c4a6cc9db19e7edbaf0-xkcd-bobby-tables.png" /></p>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<section>
						<h2>Programación Orientada a Objetos</h2>
						
						<ol>
							<li>Objetos e instancias</li>
							<li>Constructores vs destructores</li>
							<li>Ámbitos (public, private, protected y static)</li>
							<li>Clase abstracta vs Interfaz</li>
							<li>Herencia</li>
							<li>Clonación de objetos</li>
							<li>Sobreescritura de métodos</li>
							<li>Métodos estáticos</li>
						</ol>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>

						<h4>Objetos e instancias</h4>
						
<pre><code data-trim contenteditable>						
class Coche 
{
	private $marca  = "Nissan";
	private $modelo = "Versa";
	private $color  = "Rojo";
	private $encendido = false;
	public $puertas = 4;

	public function __construct($marca, $modelo, $color) 
	{
		$this->marca  = $marca;
		$this->modelo = $modelo;
		$this->color  = $color;
	}

	public function encender() 
	{
		$this->encendido = true;
	}

	public function apagar()
	{
		$this->encendido = false;
	}

	pbulic function estado()
	{
		if ($this->encendido) {
			echo "El coche está encendido <br />";
		} else {
			echo "El coche está apagado <br />";
		}
	}

	public function getMarca()
	{
		return $this->marca;
	}

	public function getModelo()
	{
		return $this->modelo;
	}

	public function getColor()
	{
		return $this->color;
	}

	public function getPuertas()
	{
		return $this->puertas;
	}
}

$Coche = new Coche();
$Coche->encender();
$Coche->estado();
$Coche->apagar();
$Coche->estado();
$Coche->puertas = 5;
echo $Coche->getMarca();
echo $Coche->getModelo();
echo $Coche->getColor();
echo $Coche->getPuertas();

$Coche = new Coche("Ford", "Lobo", "Negro");
$Coche->encender();
$Coche->estado();
$Coche->apagar();
$Coche->estado();
echo $Coche->getPuertas();
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>

						<h4>Constructores vs destructores</h4>
						
<pre><code data-trim contenteditable>						
class MyDestructableClass {
   function __construct() {
       print "En el constructor\n";
       $this->name = "MyDestructableClass";
   }

   function __destruct() {
       print "Destruyendo " . $this->name . "\n";
   }
}

$obj = new MyDestructableClass();
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>

						<h4>Ámbitos (public, private, protected y static)</h4>
						
<pre><code data-trim contenteditable>						
// Public
public $variable;
public function doSomething()
{
    ...code...
}

// Private
private $variable;
private function doSomething()
{
    ...code...
}

// Protected
protected $variable;
protected function doSomething()
{
    ...code...
}

//Static
static $variable;
class Foo {
    public static function unMétodoEstático() {
        // ...
    }
}

Foo::unMétodoEstático();
$nombreClase = 'Foo';
$nombreClase::unMétodoEstático(); // A partir de PHP 5.3.0

</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>
	
						<h4>Clase abstracta vs Interfaz</h4>
						
<pre><code data-trim contenteditable>						
//Clase abstracta
abstract class AbstractClass
{
    // El método abstracto sólo necesita definir los parámetros requeridos
    abstract protected function prefixName($name);
}

class ConcreteClass extends AbstractClass
{
    // La clase derivada puede definir parámetros opcionales que no estén en la estructura del prototipo
    public function prefixName($name, $separator = ".") {
        if ($name == "Pacman") {
            $prefix = "Mr";
        } elseif ($name == "Pacwoman") {
            $prefix = "Mrs";
        } else {
            $prefix = "";
        }
        return "{$prefix}{$separator} {$name}";
    }
}

$class = new ConcreteClass;
echo $class->prefixName("Pacman"), "\n";
echo $class->prefixName("Pacwoman"), "\n";

//Interfaces
// Declarar la interfaz 'iTemplate'
interface iTemplate
{
    public function setVariable($name, $var);
    public function getHtml($template);
}

// Implementar la interfaz
// Ésto funcionará 
class Template implements iTemplate
{
    private $vars = array();
  
    public function setVariable($name, $var)
    {
        $this->vars[$name] = $var;
    }
  
    public function getHtml($template)
    {
        foreach($this->vars as $name => $value) {
            $template = str_replace('{' . $name . '}', $value, $template);
        }
 
        return $template;
    }
}
// Ésto no funcionará
// Error fatal: La Clase BadTemplate contiene un método abstracto
// y por lo tanto debe declararse como abstracta (iTemplate::getHtml)
class BadTemplate implements iTemplate
{
    private $vars = array();
  
    public function setVariable($name, $var)
    {
        $this->vars[$name] = $var;
    }
}
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>

						<h4>Herencia</h4>
						
<pre><code data-trim contenteditable>						
class Vehiculo {
    public $matricula = '';
    public $velocidad = 0;

    public function aumentarVelocidad() {
        $this->velocidad++;
    }

    public function disminuirVelocidad() {
        $this->velocidad--;
    }

    public function parar() {
        $this->velocidad = 0;
    }
}

class Deportivo extends Vehiculo {
    var $aleron_deportivo = true;
    var $cristales_tintados = true;
    var $musica = false;

    public function ponerMusica() {
        $this->musica = true;
    }

    public function apagarMusica() {
        $this->musica = false;
    }
}

$Deportivo = new Deportivo();
$Deportivo->aumentarVelocidad();
// velocidad = 1
$Deportivo->aumentarVelocidad();
// velocidad = 2
$Deportivo->ponerMusica();
// musica = true
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>

						<h4>Clonación de objetos</h4>
						
<pre><code data-trim contenteditable>						
 
class Persona
{
    private $_nombre;
     
    public function __construct( $nombre ){
        $this->_nombre = $nombre;
    }
 
    public function __toString(){
        return $this->_nombre;
    }
 
    public function setNombre( $nombre ){
        $this->_nombre = $nombre;
    }
}
 
$persona = new Persona('Juan');
$persona2 = $persona;
$persona3 = clone $persona;
 
//Realizamos un cambio en $persona
$persona->setNombre('Manolo');
 
//Las variables $persona y $persona2 se verán afectadas por el cambio
var_dump($persona); //Imprime: object(Persona)#1 (1) { ["_nombre":"Persona":private]=> string(6) "Manolo" }
var_dump($persona2); //Imprime: object(Persona)#1 (1) { ["_nombre":"Persona":private]=> string(6) "Manolo" }
 
//La variable $persona3 no se verá afectada
var_dump($persona3); //Imprime: object(Persona)#2 (1) { ["_nombre":"Persona":private]=> string(4) "Juan" }
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>

					<section>
						<h2>Programación Orientada a Objetos</h2>
	
						<h4>Sobreescritura de métodos</h4>
						
<pre><code data-trim contenteditable>						
class Rectangle {
    public $height;
    public $width;
   
    public function __construct($width, $height) {
      	$this->width = $width;
      	$this->height = $height;
    }
    
    public function getArea() {
      	return $this->height * $this->width;
    }
}

class Square extends Rectangle {
    public function __construct($size) {
      	$this->height = $size;
      	$this->width = $size;
    }
   
    public function getArea() {
      	return pow($this->height, 2);
    }
   
}

$obj = new Square(7);
$a = $obj->getArea();
echo "$a";
</code></pre>

						<img style="border: none; float: right; margin-top: 0px;" height="150" src="../reveal/images/logo.png" alt="Codejobs">
					</section>
				</section>

				<section>
					<h1>Próxima clase</h1>
					<h3>Domingo 22 de septiembre de 2013</h3>
				</section>

			</div>

		</div>

		<script src="../reveal/lib/js/head.min.js"></script>
		<script src="../reveal/js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: '../reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../reveal/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../reveal/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: '../reveal/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
